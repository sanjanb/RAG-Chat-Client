# Document Processing and Question Answering RAG System

This repository contains a Python script for processing documents and answering questions using embeddings generated by OpenAI and stored in ChromaDB. The system loads documents, splits them into chunks, generates embeddings, and allows querying for relevant information.

## Features

- Load documents from a specified directory.
- Split documents into manageable chunks.
- Generate embeddings using OpenAI's API.
- Store and retrieve embeddings using ChromaDB.
- Query the document database for relevant information.
- Generate concise answers to questions based on retrieved document chunks.

## Prerequisites

Before you begin, ensure you have met the following requirements:

- Python 3.8 or later
- An OpenAI API key
- Required Python packages: `os`, `dotenv`, `chromadb`, `openai`

## Installation

1. Clone the repository:

   ```bash
   git clone <repository-url>
   ```

2. Navigate to the project directory:

   ```bash
   cd <project-directory>
   ```

3. Install the required packages:

   ```bash
   pip install -r requirements.txt
   ```

4. Create a `.env` file in the project directory and add your OpenAI API key:

   ```plaintext
   OPENAI_API_KEY=your_openai_api_key
   ```

```Mermaid
flowchart TD
    A[Start] --> B[Load Environment Variables (.env)]
    B --> C[Initialize ChromaDB & OpenAI Embeddings]
    C --> D[Load & Read .txt Documents]
    D --> E[Split Text into Chunks]
    E --> F[Generate Embeddings with OpenAI]
    F --> G[Upsert Chunks into ChromaDB]
    G --> H[User Inputs a Question]
    H --> I[Query ChromaDB for Relevant Chunks]
    I --> J[Create Prompt with Context + Question]
    J --> K[Generate Response using GPT Model]
    K --> L[Display Final Answer]
    L --> M[End]

```
## Usage

1. Place your text documents in the `./news_articles` directory.

2. Run the script:

   ```bash
   python script_name.py
   ```

3. The script will load the documents, split them into chunks, generate embeddings, and store them in ChromaDB.

4. You can query the document database by modifying the `question` variable in the script and running it again.

## Code Overview

- **Loading Documents**: The `load_documents_from_directory` function loads text documents from a specified directory.
- **Splitting Text**: The `split_text` function splits the text into chunks of a specified size with a specified overlap.
- **Generating Embeddings**: The `get_openai_embedding` function generates embeddings for the document chunks using OpenAI's API.
- **Storing Embeddings**: The script uses ChromaDB to store and retrieve embeddings.
- **Querying Documents**: The `query_documents` function queries the document database for relevant information.
- **Generating Responses**: The `generate_response` function generates concise answers to questions based on retrieved document chunks.

## Example

To query the document database, modify the `question` variable in the script:

```python
question = "Tell me about the document"
relevant_chunks = query_documents(question)
answer = generate_response(question, relevant_chunks)
print(answer)
```

## Contributing

Contributions are welcome! Please fork the repository and create a pull request with your changes.

## License

This project is licensed under the MIT License. See the `LICENSE` file for more information.

## Contact

If you have any questions or feedback, please contact the repository maintainer.
